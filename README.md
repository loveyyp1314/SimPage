<p align="center">
  <img src="./public/simpage-logo.svg" alt="SimPage Logo" width="160" />
</p>

# SimPage Â· ç°ä»£åŒ–å¯¼èˆªé¡µ

ä¸€ä¸ªé›†æˆæ—¶é—´é—®å€™ã€å¤©æ°”ä¿¡æ¯ã€æ™ºèƒ½æœç´¢ï¼Œä»¥åŠåº”ç”¨ä¸ä¹¦ç­¾å¿«æ·å…¥å£çš„ç°ä»£åŒ–å¯¼èˆªé¡µç¤ºä¾‹ã€‚é¡¹ç›®æä¾›åå°ç¼–è¾‘é¡µé¢ï¼Œå¹¶å°†æ•°æ®æŒä¹…åŒ–åœ¨æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œä¾¿äºè½»é‡å¿«é€Ÿåœ°éƒ¨ç½²å’Œç®¡ç†ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **æ¦‚è§ˆåŒºåŸŸ**ï¼šå±•ç¤ºå½“å‰æ—¶é—´ã€æ—¥æœŸã€é—®å€™è¯­åŠå®æ—¶å¤©æ°”ä¿¡æ¯ï¼Œå¹¶æä¾›å…¨å±€æœç´¢å…¥å£ï¼Œæ”¯æŒäº®æš—ä¸»é¢˜åˆ‡æ¢å¹¶å¯éšç³»ç»Ÿä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢ã€‚
- **åº”ç”¨ä¸ä¹¦ç­¾åˆ†åŒº**ï¼šä¸¤å¤§æ¨¡å—é‡‡ç”¨è‡ªé€‚åº” 4-5 åˆ—ç½‘æ ¼æ’å¸ƒï¼Œæ”¯æŒè‡ªç”±ç¼©æ”¾ï¼Œå¡ç‰‡åŒ…å«å›¾æ ‡ã€åç§°ä¸æè¿°ä¿¡æ¯ã€‚
- **åå°ç¼–è¾‘é¡µé¢**ï¼šæ— éœ€é¢å¤–æ•°æ®åº“ï¼Œé€šè¿‡åå°é¡µé¢å³å¯æ–°å¢ã€ä¿®æ”¹æˆ–åˆ é™¤åº”ç”¨ä¸ä¹¦ç­¾æ¡ç›®ã€‚
- **åå°æƒé™æ§åˆ¶**ï¼šåå°é¡µé¢éœ€å¯†ç ç™»å½•ï¼ˆé»˜è®¤å¯†ç  `admin123`ï¼‰ï¼Œå¯†ç ä¿¡æ¯ä¿å­˜åœ¨æœ¬åœ°æ•°æ®æ–‡ä»¶ä¸­ï¼Œä¾¿äºè‡ªå®šä¹‰ã€‚
- **ç«™ç‚¹ä¿¡æ¯é…ç½®**ï¼šå¯åœ¨åå°è®¾ç½®ç½‘ç«™åç§°ã€Logo ä»¥åŠæ¦‚è§ˆåŒºåŸŸä¸‹æ–¹çš„è‡ªå®šä¹‰é—®å€™è¯­ï¼Œå‰å°å®æ—¶åŒæ­¥å±•ç¤ºã€‚
- **å¼€æ”¾å¤©æ°”æœåŠ¡**ï¼šä½¿ç”¨å®Œå…¨å…è´¹çš„ Open-Meteo API è·å–å¤©æ°”ä¿¡æ¯ï¼Œæ— éœ€æ³¨å†Œå’Œ API Keyï¼Œåå°ç›´æ¥å¡«å†™åŸå¸‚åç§°å³å¯ï¼Œå¯è¾“å…¥å¤šä¸ªåŸå¸‚ä»¥ç©ºæ ¼éš”å¼€ï¼Œé¦–é¡µé—´éš”5ç§’æ»šåŠ¨æ˜¾ç¤ºã€‚
- **ä¹¦ç­¾åˆ†ç±»æç¤º**ï¼šå½•å…¥ä¹¦ç­¾æ—¶è‡ªåŠ¨åˆ—å‡ºç°æœ‰å­åˆ†ç±»ï¼Œå¿«é€Ÿä¿æŒåˆ†ç±»ä¸€è‡´æ€§ã€‚
- **æ–‡ä»¶åŒ–å­˜å‚¨**ï¼šå¯¼èˆªæ•°æ®ä¿å­˜åœ¨ `data/navigation.json` æ–‡ä»¶ä¸­ï¼Œä¾¿äºå¤‡ä»½ã€ç‰ˆæœ¬æ§åˆ¶ä¸ç¦»çº¿ä¿®æ”¹ã€‚
- **å“åº”å¼ä¸æ¯›ç»ç’ƒè§†è§‰**ï¼šå»¶ç»­ç°ç™½æç®€é£æ ¼ä¸æ¯›ç»ç’ƒæ•ˆæœï¼Œåœ¨æ¡Œé¢ä¸ç§»åŠ¨ç«¯å‡æœ‰ä¼˜ç§€çš„æµè§ˆä½“éªŒã€‚

## å“ç‰Œè§†è§‰

- ä»“åº“å†…æä¾›äº† `public/simpage-logo.svg` ä½œä¸ºè½»é‡çº§çš„ SimPage å“ç‰Œ Logoï¼Œé¡¶éƒ¨å±•ç¤ºçš„å›¾æ ‡å³æ¥æºäºè¯¥æ–‡ä»¶ã€‚
- éƒ¨ç½²æ—¶å¯ç›´æ¥å¤ç”¨è¯¥ Logoï¼Œæˆ–åœ¨æ­¤åŸºç¡€ä¸Šè°ƒæ•´é…è‰²ä¸æ’ç‰ˆä»¥åŒ¹é…è‡ªæœ‰å“ç‰Œã€‚

## å¿«é€Ÿå¼€å§‹

1. å®‰è£…ä¾èµ–ï¼š
   ```bash
   npm install
   ```
2. å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼š
   ```bash
   npm start
   ```
3. åœ¨æµè§ˆå™¨è®¿é—®ï¼š
   - å‰å°å¯¼èˆªé¡µï¼š[`http://localhost:3000/`](http://localhost:3000/)
   - åå°ç¼–è¾‘é¡µï¼š[`http://localhost:3000/admin`](http://localhost:3000/admin.html)

4. åå°è¿è¡Œï¼š
   ```bash
   npm install pm2 -g
   pm2 start npm --name "SimPage" -- start
   ```
   æ›´å¤šè¯·æŸ¥çœ‹pm2å‘½ä»¤...
   
6. æ›´æ–°
   ```bash
   git pull
   ```

> åå°é¦–æ¬¡ç™»å½•è¯·ä½¿ç”¨é»˜è®¤å¯†ç  `admin123`ï¼Œå¯åœ¨ `data/navigation.json` ä¸­æ›´æ–°å¯†ç æ•£åˆ—ã€‚
> å¤©æ°”ä¿¡æ¯é€šè¿‡ [Open-Meteo](https://open-meteo.com/) å¼€æºå…è´¹ API è·å–ï¼Œæ— éœ€æ³¨å†Œå’Œ API Keyï¼Œåå°æ‰€é€‰åŸå¸‚å†³å®šå±•ç¤ºå†…å®¹ï¼›è‹¥æœªé…ç½®åˆ™ä½¿ç”¨é»˜è®¤åŸå¸‚ï¼ˆå¯é€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼‰ã€‚

## Docker Compose éƒ¨ç½²

é¡¹ç›®é™„å¸¦ç²¾ç®€çš„ Docker éƒ¨ç½²æ–¹æ¡ˆï¼Œé•œåƒåŸºäº `node:20-alpine` æ„å»ºï¼Œä»…å®‰è£…ç”Ÿäº§ä¾èµ–å¹¶å¯ç”¨å¥åº·æ£€æŸ¥ï¼Œä»¥åœ¨ä¿è¯æ€§èƒ½çš„å‰æä¸‹é™ä½èµ„æºå ç”¨ã€‚

1. æ‰‹åŠ¨æ„å»ºé•œåƒï¼š
   ```bash
   docker compose build
   ```
   å¦‚éœ€å¼ºåˆ¶åˆ·æ–°ä¾èµ–ï¼Œå¯è¿½åŠ  `--no-cache`ã€‚

2. åå°å¯åŠ¨æœåŠ¡ï¼š
   ```bash
   docker compose up -d
   ```
   è‹¥ä»ä½¿ç”¨æ—§ç‰ˆ `docker-compose`ï¼Œå¯æ›¿æ¢ä¸º `docker-compose up -d`ã€‚

3. æŸ¥çœ‹è¿è¡Œæ—¥å¿—ï¼š
   ```bash
   docker compose logs -f navigation
   ```

4. åœæ­¢å®¹å™¨ï¼ˆä¿ç•™æ•°æ®ï¼‰ï¼š
   ```bash
   docker compose down
   ```
5. æ›´æ–°
   ```bash
   git pull
   ```
é‡æ–°æ„å»ºé•œåƒ -> docker-compose up -d

ä»¥ä¸Šå‘½ä»¤åŒæ ·é€‚ç”¨äºæ—§ç‰ˆ `docker-compose` CLIï¼Œåªéœ€å°† `docker compose` æ›¿æ¢ä¸º `docker-compose`ã€‚

éƒ¨ç½²é…ç½®è¦ç‚¹ï¼š

- æœåŠ¡é»˜è®¤ç›‘å¬å®¿ä¸»æœº `3000` ç«¯å£ï¼Œå¯åœ¨ `docker-compose.yml` ä¸­è°ƒæ•´ç«¯å£æ˜ å°„æˆ– `PORT` ç¯å¢ƒå˜é‡ã€‚
- å‘½åå· `navigation_data` ä¼šæŒä¹…åŒ– `/app/data` ä¸‹çš„å¯¼èˆªé…ç½®ä¸åå°å¯†ç ï¼Œé•œåƒé‡å»ºæ—¶æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚
- å¯é€šè¿‡ `DEFAULT_WEATHER_CITY` ç¯å¢ƒå˜é‡è‡ªå®šä¹‰é»˜è®¤å¤©æ°”åŸå¸‚ï¼Œé»˜è®¤å€¼ä¸º"åŒ—äº¬"ï¼ŒDocker Compose ç¤ºä¾‹å·²é»˜è®¤å¡«å……ï¼Œå¯æŒ‰éœ€ä¿®æ”¹ã€‚
- å¤©æ°”æœåŠ¡ä½¿ç”¨ Open-Meteo å¼€æºå…è´¹ APIï¼Œæ— éœ€é…ç½® API Keyã€‚
- `docker-compose.yml` ä¸­é¢„è®¾ `mem_limit`ã€`mem_reservation` ä¸ `cpus`ï¼Œé»˜è®¤é™åˆ¶ä¸º 0.5 æ ¸ã€512MiB ä¸Šé™åŠ 128MiB é¢„ç•™ï¼Œå¯æŒ‰å®é™…èµ„æºæƒ…å†µè°ƒæ•´ã€‚
- æ›´æ–°ä»£ç åé‡æ–°è¿è¡Œ `docker compose build` ä¸ `docker compose up -d` ä»¥åº”ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚

## è¿è¡Œæ—¶é…ç½®

- `DEFAULT_WEATHER_CITY`ï¼šé»˜è®¤å¤©æ°”åŸå¸‚çš„åç§°ï¼ˆåå°æœªé€‰æ‹©åŸå¸‚æ—¶ä½¿ç”¨ï¼‰ï¼Œé»˜è®¤å€¼ `åŒ—äº¬`

## æ•°æ®ç®¡ç†

- å¯¼èˆªæ•°æ®ä½äº `data/navigation.json`ï¼Œç»“æ„ç¤ºä¾‹ï¼š
  ```json
  {
    "settings": {
      "siteName": "SimPage",
      "siteLogo": "",
      "greeting": "",
      "footer": "",
      "weather": {
        "city": "åŒ—äº¬"
      }
    },
    "apps": [
      {
        "id": "app-figma",
        "name": "Figma",
        "url": "https://www.figma.com/",
        "description": "åä½œå¼ç•Œé¢è®¾è®¡å·¥å…·ã€‚",
        "icon": "ğŸ¨"
      }
    ],
    "bookmarks": [
      {
        "id": "bookmark-oschina",
        "name": "å¼€æºä¸­å›½",
        "url": "https://www.oschina.net/",
        "description": "èšç„¦å¼€æºä¿¡æ¯ä¸æŠ€æœ¯ç¤¾åŒºã€‚",
        "icon": "ğŸŒ",
        "category": "æŠ€æœ¯ç¤¾åŒº"
      }
    ],
    "admin": {
      "passwordHash": "<å·²çœç•¥>",
      "passwordSalt": "<å·²çœç•¥>"
    }
  }
  ```
- å¯ç›´æ¥é€šè¿‡åå°é¡µé¢å®Œæˆå¢åˆ æ”¹æ“ä½œå¹¶ä¿å­˜ï¼›æœåŠ¡ç«¯ä¼šè‡ªåŠ¨ä¸ºç¼ºå¤±çš„æ¡ç›®ç”Ÿæˆå”¯ä¸€ `id`ï¼Œå¹¶ç¡®ä¿é“¾æ¥åŒ…å«åè®®å¤´ã€‚
- è‹¥éœ€ä¿®æ”¹åå°å¯†ç ï¼Œè¯·ç”Ÿæˆæ–°çš„ `passwordSalt` ä¸ `passwordHash`ï¼ˆå¯ä½¿ç”¨ Node.js `crypto.scryptSync`ï¼‰ï¼Œå¹¶æ›´æ–°è‡³ `navigation.json`ã€‚

## ç›®å½•ç»“æ„

```
â”œâ”€â”€ data/
â”‚   â””â”€â”€ navigation.json        # å¯¼èˆªæ•°æ®æº
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ admin.html             # åå°ç¼–è¾‘é¡µé¢
â”‚   â”œâ”€â”€ index.html             # å‰å°å¯¼èˆªé¡µé¢
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ admin.js           # åå°äº¤äº’é€»è¾‘
â”‚   â”‚   â””â”€â”€ main.js            # å‰å°äº¤äº’é€»è¾‘
â”‚   â””â”€â”€ styles.css             # å…¨å±€æ ·å¼
â”œâ”€â”€ server.js                  # Express æœåŠ¡ç«¯å…¥å£
â”œâ”€â”€ package.json               # é¡¹ç›®ä¾èµ–ä¸è„šæœ¬
â””â”€â”€ README.md
```

## è‡ªå®šä¹‰ä¸éƒ¨ç½²

- å¯åœ¨ `navigation.json` ä¸­é¢„å…ˆå¡«å……ä¼ä¸šæˆ–ä¸ªäººå¸¸ç”¨çš„åº”ç”¨ä¸ä¹¦ç­¾ã€‚
- éƒ¨ç½²æ—¶ï¼Œå°†æ•´ä¸ªé¡¹ç›®æ”¾ç½®äº Node.js è¿è¡Œç¯å¢ƒï¼Œæ‰§è¡Œ `npm install && npm start` å³å¯å¯¹å¤–æä¾›æœåŠ¡ã€‚

ç¥ä½¿ç”¨æ„‰å¿«ï¼
